{"mappings":"YA4DA,IAAMA,EAAYC,SAASC,cAAc,kBAGnCC,EAAYH,EAAUE,cAAc,uBACpCE,EAAiBJ,EAAUE,cAAc,4BAG7CG,OAAKC,iBAAiB,QAAQ,WAC9B,IAAMC,EAAeC,KAAKC,MACxBC,aAAaC,QAAQ,2BAEnBJ,IACFJ,EAAUS,MAAQL,EAAaM,OAAS,GACxCT,EAAeQ,MAAQL,EAAaO,SAAW,G,IAK5C,IAADC,EAAuBC,EAAEC,UAAS,WACtC,IAAMC,EAAe,CACnBL,MAAOV,EAAUS,MACjBE,QAASV,EAAeQ,OAE1BF,aAAaS,QAAQ,yBAA0BX,KAAKY,UAAUF,G,GAC7D,KAGHlB,EAAUM,iBAAiB,QAASS,GAG/Bf,EAAKM,iBAAiB,UAAU,SAAAe,GACnCA,EAAMC,iBACkB,KAApBnB,EAAUS,OAAyC,KAAzBR,EAAeQ,MAC3CW,QAAQC,IAAI,mDAEZD,QAAQC,IAAI,4BAA6B,CACvCX,MAAOV,EAAUS,MACjBE,QAASV,EAAeQ,QAE1BF,aAAae,WAAW,0BACxBzB,EAAU0B,Q","sources":["src/js/03-feedback.js"],"sourcesContent":["// import throttle from 'lodash.throttle';\n\n// const btnEl = document.querySelector('button[type=\"submit\"]');\n// const emailEl = document.querySelector('input[type=\"email\"]');\n// const messageEl = document.querySelector('textarea[name=\"message\"]');\n\n// let data = {};\n\n// if (!localStorage.getItem('feedback-form-state')) {\n//   data = {\n//     email: '',\n//     message: '',\n//   };\n// } else {\n//   data = JSON.parse(localStorage.getItem('feedback-form-state'));\n// }\n\n// const checkLocalStorage = () => {\n//   const savedData = JSON.parse(localStorage.getItem('feedback-form-state'));\n\n//   if (savedData) {\n//     emailEl.value = savedData.email;\n//     messageEl.value = savedData.message;\n//   } else {\n//     emailEl.value = '';\n//     messageEl.value = '';\n//   }\n// };\n\n// checkLocalStorage();\n\n// function localData(event) {\n//   data[event.target.name] = event.target.value;\n//   localStorage.setItem('feedback-form-state', JSON.stringify(data));\n//   }\n//   // function resetLocalSorage(event) {\n//   //   event.preventDefault();\n//   //   localStorage.clear();\n//   //   checkLocalStorage();\n//   // }\n//   function resetLocalSorage() {\n//     localStorage.clear();\n//     emailEl.value = '';\n//     messageEl.value = '';\n//     console.log('Local Storage został wyczyszczony.');\n//   }\n\n//   formEl.addEventListener('submit', event => {\n//     event.preventDefault();\n//     resetLocalSorage();\n//     console.log('Dane z formularza zostaly wyslane');\n//   });\n//   emailEl.addEventListener('input', throttle(localData, 1000));\n//   messageEl.addEventListener('input', throttle(localData, 1000));\n//   //btnEl.addEventListener('click', resetLocalSorage);\n// }\n\n//------------------------------------------------------------------\n//------------------------------------------------------------------\n// Wybierz formularz opinii\nconst formularz = document.querySelector('.feedback-form');\n\n// Wybierz pola email i message\nconst poleEmail = formularz.querySelector('input[name=\"email\"]');\nconst poleWiadomosci = formularz.querySelector('textarea[name=\"message\"]');\n\n// Wczytaj stan formularza z pamięci podczas ładowania strony\nwindow.addEventListener('load', () => {\n  const zapisanyStan = JSON.parse(\n    localStorage.getItem('stan-formularza-opinii')\n  );\n  if (zapisanyStan) {\n    poleEmail.value = zapisanyStan.email || '';\n    poleWiadomosci.value = zapisanyStan.message || '';\n  }\n});\n\n// Ogranicz częstotliwość aktualizacji funkcji, aby uniknąć częstych aktualizacji w pamięci\nconst zapiszStanFormularza = _.throttle(() => {\n  const aktualnyStan = {\n    email: poleEmail.value,\n    message: poleWiadomosci.value,\n  };\n  localStorage.setItem('stan-formularza-opinii', JSON.stringify(aktualnyStan));\n}, 500);\n\n// Zapisz stan formularza przy zdarzeniu input\nformularz.addEventListener('input', zapiszStanFormularza);\n\n// Wyczyść pamięć i pola formularza po wysłaniu formularza\nformularz.addEventListener('submit', event => {\n  event.preventDefault();\n  if (poleEmail.value === '' || poleWiadomosci.value === '') {\n    console.log('Proszę wypełnić wszystkie pola przed wysłaniem');\n  } else {\n    console.log('Formularz został wysłany!', {\n      email: poleEmail.value,\n      message: poleWiadomosci.value,\n    });\n    localStorage.removeItem('stan-formularza-opinii');\n    formularz.reset();\n  }\n});\n"],"names":["$b00c40859be242c5$var$formularz","document","querySelector","$b00c40859be242c5$var$poleEmail","$b00c40859be242c5$var$poleWiadomosci","window","addEventListener","zapisanyStan","JSON","parse","localStorage","getItem","value","email","message","$b00c40859be242c5$var$zapiszStanFormularza","_","throttle","aktualnyStan","setItem","stringify","event","preventDefault","console","log","removeItem","reset"],"version":3,"file":"03-feedback.af15cebc.js.map"}